@model IEnumerable<Proyecto_Escuelas_ASP.Models.Materia>

@{
    ViewData["Title"] = "Curso nuevo";
}
<div class="card-body border">
    <!-- Tabla de muestra de registros-->
    <div class="row ">
        <div class="offset-12 ">
            <div class="card border border-success table-info ">
                <div class="card-header bg-dark">
                    <h3 class="text-white text-center"><strong>Lista de materias</strong></h3>
                </div>
                <div class="card-body">
                    <!-- Modal -->
                    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-body" id="ModalDetalle">
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Modal -->

                    <div class="table-responsive-md">
                        @if (Model.Count() > 0)
                        {
                            <table class="table table-responsive-md text-center" id="tblUsuarios">
                                <thead>
                                    <tr>
                                        <th>@Html.DisplayNameFor(n=>n.Nombre_Materia)</th>
                                        <th>@Html.DisplayNameFor(n=>n.Descripcion)</th>
                                        <th>@Html.DisplayNameFor(n=>n.Profesores.PersonaId)</th>
                                        <th>Opciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model)
                                    {
                                        <tr>
                                            <td>@Html.DisplayFor(n=>item.Nombre_Materia)</td>
                                            <td>@Html.DisplayFor(n=>item.Descripcion)</td>
                                            <td>@Html.DisplayFor(n=>item.Profesores.PersonaId)</td>
                                            <th>
                                                <a class="btn btn-primary" asp-action="Details" asp-route-id="@item.Nombre_Materia">
                                                    <i class="bi bi-pencil">Detalles</i>
                                                </a>
                                                <a class="btn btn-warning" asp-action="Delete" asp-route-IdMateria="@item.Nombre_Materia">
                                                    <i class="bi bi-pencil">Eliminar</i>
                                                </a>
                                                <a class="btn btn btn-info" asp-action="Edit" asp-route-IdMateria="@item.Nombre_Materia">
                                                    <i class="bi bi-pencil">Editar</i>
                                                </a>
                                            </th>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        }
                        else
                        {
                            <p>No hay registros</p>
                        }
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!--Esta seccion es para los script-->
    @section Scripts{
        <script>
            //Metodo y funcion para la paginacion y fltros
            $(document).ready(function () {
                //Llamar a datatable
                $('#tblUsuarios').DataTable({
                    language: {
                        "decimal": "",
                        "emptyTable": "No hay información",
                        "info": "Mostrando _START_ a _END_ de _TOTAL_ Entradas",
                        "infoEmpty": "Mostrando 0 to 0 of 0 Entradas",
                        "infoFiltered": "(Filtrado de _MAX_ total entradas)",
                        "infoPostFix": "",
                        "thousands": ",",
                        "lengthMenu": "Mostrar _MENU_ Entradas",
                        "loadingRecords": "Cargando...",
                        "processing": "Procesando...",
                        "search": "Buscar:",
                        "zeroRecords": "Sin resultados encontrados",
                        "paginate": {
                            "first": "Primero",
                            "last": "Ultimo",
                            "next": "Siguiente",
                            "previous": "Anterior"
                        }
                    }
                });
            });

        </script>
    }
